// Hide the updated date in the title.
.updated:not(.published) {
	display: none;
}

.content-wrapper > * {
	width: 100%;
	padding-right: 15px;
	padding-left: 15px;

	// The use of !important here is to ensure everything is centered.
	// There could be another block used with a left or right margin specified.
	margin-right: auto !important;
	margin-left: auto !important;

	@include make-container-max-widths();
}

// Consider renaming this for re-use. E.g. .content-max-width
.author-info,
.navigation {
	@include make-container();
	max-width: map-get( $container-max-widths, "md" );
}

// Force the content on the full width template to be the xl container width.
.page-template-full-width .content-wrapper > * {
	max-width: map-get($container-max-widths, "xl");
}

// Adjust the max width for the cover block.
.content-wrapper .wp-block-cover {
	max-width: calc( #{map-get($container-max-widths, "md")} - #{$grid-gutter-width} );
}

// Only target first-level <ul>'s.
.content-wrapper > ul:not(.wp-block-gallery) {
	padding-left: 2rem;
	width: 100%;
}

@include media-breakpoint-up(lg) {
	// Forces content to have a max-width of 720px for readability.
	.content-wrapper > *:not(.edd_downloads_list) {
		max-width: calc( #{map-get( $container-max-widths, "md" )} + #{$grid-gutter-width} );
	}
}

@include media-breakpoint-down(lg) {
	#primary-sidebar {
		@include make-container();
		@include make-container-max-widths();
	}
}

@include media-breakpoint-up(xl) {

	.has-sidebar .site-content {
		@include make-container();
		@include make-container-max-widths();
	}

	.has-sidebar {

		.content-wrapper > *,
		.author-info,
		.navigation {
			padding-left: 0;
			padding-right: 0;
		}

		.site-content,
		.site-content > header {
			display: grid;
			grid-template-columns:
				minmax(auto, 1fr) // content
				minmax(auto, 21rem); // sidebar
			grid-column-gap: 5rem;
		}

		.site-content {
			grid-template-areas:
				'header header'
				'primary secondary';
			grid-auto-rows: min-content;
		}

		// Sidebar-content layout
		&.layout-sidebar-content {

			.site-content,
			.site-content > header {
				grid-template-columns:
					minmax(auto, 21rem) // sidebar
					minmax(auto, 1fr); // content
			}

			.site-content {
				grid-template-areas:
				'header header'
				'secondary primary';
			}

			.site-content header > * {
				grid-column: 2 / span 1;
			}

		}

		.site-content {

			// The first <header> element.
			> header {
				grid-area: header;

				> * {
					grid-column: 1 / span 1;
				}
			}

			#primary {
				grid-area: primary;
			}

			#secondary {
				grid-area: secondary;
			}

		}

		// Any item with .alignwide will stretch to fill the available space.
		.content-wrapper .alignwide:not(.edd_downloads_list) {
			padding-left: 0;
			padding-right: 0;
		}

	}

}

.content-wrapper .alignwide:not(.edd_downloads_list) {
	max-width: map-get( $container-max-widths, "xl" );
}

// Adjust the max width for the cover block.
.content-wrapper .wp-block-cover.alignwide {
	max-width: calc( #{map-get($container-max-widths, "xl")} - #{$grid-gutter-width} );
}

.content-wrapper .alignfull:not(.edd_downloads_list) {
	// Remove left and right padding on anything full-width.
	padding-left: 0;
	padding-right: 0;
	// Reset max-width for full-width items.
	max-width: none;
}